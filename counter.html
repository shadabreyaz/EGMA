<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="counter.css">
    <title>Statistics Counter</title>
</head>

<body>
    <section class="stat-section">
        <div class="stats-container">
            <div class="stats-grid">
                <div class="stat-item">
                    <h2 class="stat-number" data-target="50" data-suffix="+">0+</h2>
                    <p class="stat-label">Years of Visionary Leadership</p>
                </div>
                <div class="stat-item">
                    <h2 class="stat-number" data-target="100" data-suffix="K+">0K+</h2>
                    <p class="stat-label">Lenses Delivered</p>
                </div>
                <div class="stat-item">
                    <h2 class="stat-number" data-target="99.9" data-suffix="%">0%</h2>
                    <p class="stat-label">Precision Coating Rate</p>
                </div>
                <div class="stat-item">
                    <h2 class="stat-number" data-target="50" data-suffix="+">0+</h2>
                    <p class="stat-label">Countries Served</p>
                </div>
            </div>
        </div>
    </section>

    <script>
        function animateCounter(element, target, duration, suffix) {
            let start = 0;
            const increment = target / (duration / 16);
            const isDecimal = target % 1 !== 0;

            const timer = setInterval(() => {
                start += increment;
                if (start >= target) {
                    element.textContent = (isDecimal ? target.toFixed(1) : Math.ceil(target)) + suffix;
                    clearInterval(timer);
                } else {
                    element.textContent = (isDecimal ? start.toFixed(1) : Math.ceil(start)) + suffix;
                }
            }, 16);
        }

        function initCounters() {
            const counters = document.querySelectorAll('.stat-number');

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const target = parseFloat(entry.target.dataset.target);
                        const suffix = entry.target.dataset.suffix || '';
                        animateCounter(entry.target, target, 2000, suffix);
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });

            counters.forEach(counter => observer.observe(counter));
        }

        window.addEventListener('load', initCounters);
    </script>
</body>

</html>